<form
    *ngIf="fgProperties"
    [formGroup]="fgProperties"
    class="row small-12 medium-12"
>
    <div class="input-container small-12 medium-6 columns">

        <!-- crType -->
        <gtx-select
            [label]="('contentRepository.crType' | i18n) + ' *'"
            formControlName="crType"
            [clearable]="true"
        >
            <gtx-option *ngFor="let crType of crTypes" [value]="crType.id">{{ crType.label | i18n }}</gtx-option>
        </gtx-select>

        <!-- name -->
        <gtx-input
            type="text"
            maxlength="255"
            [label]="('contentRepository.name' | i18n) + ' *'"
            formControlName="name"
        ></gtx-input>

        <!-- dbType -->
        <gtx-input
            *ngIf="!isCrTypeMesh"
            type="text"
            maxlength="255"
            [label]="('contentRepository.dbType' | i18n) + ' *'"
            formControlName="dbType"
        ></gtx-input>

        <!-- url -->
        <gtx-input
            type="text"
            maxlength="255"
            [label]="('contentRepository.url' | i18n) + ' *'"
            formControlName="url"
        ></gtx-input>

        <!-- username -->
        <gtx-input
            type="text"
            maxlength="255"
            [label]="('shared.user_name' | i18n) + ' *'"
            formControlName="username"
        ></gtx-input>

        <!-- usePassword -->
        <gtx-checkbox
            formControlName="usePassword"
            [label]="'contentRepository.usePassword' | i18n"
        ></gtx-checkbox>

        <div
            [hidden]="!usePassword"
            class="gtx-password-box"
        >
            <!-- password -->
            <gtx-input
                *ngIf="usePassword"
                type="password"
                maxlength="255"
                [label]="'contentRepository.password' | i18n"
                formControlName="password"
            >
            </gtx-input>

            <gtx-input
                *ngIf="usePassword"
                type="password"
                maxlength="255"
                [label]="'contentRepository.repeatPassword' | i18n"
                formControlName="repeat_password"
            >
            </gtx-input>

            <span
                *ngIf="fgProperties.get('password')?.value && fgProperties.get('repeat_password')?.value && fgProperties.get('password')?.hasError('passwordsDontMatch')"
                class="container-validator_errors"
                [style.color]="'red'"
            >
                {{ 'shared.passwords_dont_match_error' | i18n }}
            </span>
        </div>

    </div>

    <div class="input-container small-12 medium-6 columns">

        <!-- basepath -->
        <gtx-input
            *ngIf="!isCrTypeMesh"
            type="text"
            maxlength="255"
            [label]="'contentRepository.basepath' | i18n"
            formControlName="basepath"
        ></gtx-input>

        <!-- instantPublishing -->
        <gtx-checkbox
            formControlName="instantPublishing"
            [label]="'contentRepository.instantPublishing' | i18n"
        ></gtx-checkbox>

        <!-- diffDelete -->
        <gtx-checkbox
            *ngIf="!isCrTypeMesh"
            formControlName="diffDelete"
            [label]="'contentRepository.diffDelete' | i18n"
        ></gtx-checkbox>

        <!-- languageInformation -->
        <gtx-checkbox
            *ngIf="!isCrTypeMesh"
            formControlName="languageInformation"
            [label]="'contentRepository.languageInformation' | i18n"
        ></gtx-checkbox>

        <!-- permissionInformation -->
        <gtx-checkbox
            formControlName="permissionInformation"
            [label]="'contentRepository.permissionInformation' | i18n"
        ></gtx-checkbox>

        <!-- permissionProperty -->
        <gtx-input
            *ngIf="isCrTypeMesh"
            type="text"
            maxlength="255"
            [label]="'contentRepository.permissionProperty' | i18n"
            formControlName="permissionProperty"
        ></gtx-input>

        <!-- defaultPermission -->
        <gtx-input
            *ngIf="isCrTypeMesh"
            type="text"
            maxlength="255"
            [label]="'contentRepository.defaultPermission' | i18n"
            formControlName="defaultPermission"
        ></gtx-input>

        <!-- projectPerNode -->
        <gtx-checkbox
            *ngIf="isCrTypeMesh"
            formControlName="projectPerNode"
            [label]="'contentRepository.projectPerNode' | i18n"
        ></gtx-checkbox>

        <!-- defaultPermission -->
        <gtx-input
            *ngIf="isCrTypeMesh"
            type="text"
            maxlength="255"
            [label]="'contentRepository.version' | i18n"
            formControlName="version"
        ></gtx-input>

        <!-- elasticsearch -->
        <gtx-textarea
            *ngIf="isCrTypeMesh"
            [label]="'contentRepository.elasticsearch' | i18n"
            formControlName="elasticsearch"
        ></gtx-textarea>

        <span
            *ngIf="fgProperties.get('elasticsearch')?.hasError('errorIsInvalidJson')"
            class="container-validator-errors"
        >
            {{ 'shared.error_is_invalid_json' | i18n }}
        </span>

    </div>
</form>
