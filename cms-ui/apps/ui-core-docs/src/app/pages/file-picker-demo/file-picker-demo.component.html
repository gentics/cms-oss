<gtx-autodocs [docs]="documentation"></gtx-autodocs>

<h2>Demos</h2>

<gtx-demo-block demoTitle="Basic example">
  <div class="demo-result">
    <div>
      <gtx-file-picker (fileSelect)="onFilesSelected($event)">
        Pick a file
      </gtx-file-picker>
    </div>
    @if (selectedFiles) {
      <ul>
        <li>Selected files:</li>
        @for (file of selectedFiles; track file) {
          <li>{{ file?.name }} ({{ file?.type }})</li>
        }
      </ul>
    }
  </div>
  <div class="demo-code">
        <gtx-highlighted-code language="HTML" code='
            <gtx-file-picker (fileSelect)="onFilesSelected($event)">
                Pick a file
            </gtx-file-picker>
        '></gtx-highlighted-code>
  </div>
</gtx-demo-block>

<gtx-demo-block demoTitle="Options">
  <div class="demo-result">
    <div>
      <gtx-file-picker
        (fileSelect)="selectedFilesB = $event"
        (fileSelectReject)="rejectedFilesB = $event"
        [disabled]="isDisabled"
        [multiple]="isMultiple"
        [accept]="onlyImages ? 'image/*' : '*'">
        @if (!onlyImages && !isMultiple) {
          <span>Pick a file</span>
        }
        @if (!onlyImages && isMultiple) {
          <span>Pick some files</span>
        }
        @if (onlyImages && !isMultiple) {
          <span>Pick an image</span>
        }
        @if (onlyImages && isMultiple) {
          <span>Pick some images</span>
        }
      </gtx-file-picker>
    </div>
    <div class="row expanded">
      <ul class="small-6">
        @if (selectedFilesB) {
          <li>Selected files:</li>
        }
        @for (file of selectedFilesB; track file) {
          <li>{{ file?.name }} <small>{{ file?.type }}</small></li>
        }
      </ul>
      <ul class="small-6">
        @if (rejectedFilesB) {
          <li>Rejected files:</li>
        }
        @for (file of rejectedFilesB; track file) {
          <li>{{ file?.name }} <small>{{ file?.type }}</small></li>
        }
      </ul>
    </div>
    <gtx-checkbox [(ngModel)]="isDisabled" label="disabled: {{ isDisabled }}"></gtx-checkbox>
    <gtx-checkbox [(ngModel)]="isMultiple" label="multiple: {{ isMultiple }}"></gtx-checkbox>
    <gtx-checkbox [(ngModel)]="onlyImages" label="accept: {{ onlyImages ? 'image/*' : '*' }}"></gtx-checkbox>
  </div>
  <div class="demo-code">
        <gtx-highlighted-code language="HTML" code='
            <gtx-file-picker (fileSelect)="onFilesSelected($event)"
                [disabled]="isDisabled"
                [multiple]="isMultiple"
                [accept]="onlyImages ? &#39;image/&#39;* : &#39;*&#39;">
                Pick a file
            </gtx-file-picker>
        '></gtx-highlighted-code>
  </div>
</gtx-demo-block>

<gtx-demo-block demoTitle="Usage with a FileDropArea">
  <div class="demo-result">
    <p>
      If the <a [routerLink]="['/file-drop-area']"><code>FileDropArea</code></a>
      directive is used on the file picker, the options of the file picker
      are passed to the drop area and drop events are passed to the file picker.
    </p>
    <div>
      <gtx-file-picker gtxFileDropArea
        gtxPreventFileDrop="page"
        (fileSelect)="selectedFilesC = $event"
        (fileSelectReject)="rejectedFilesC = $event"
        [disabled]="isDisabled"
        [multiple]="isMultiple"
        [accept]="onlyImages ? 'image/*' : '*'">
        @if (!onlyImages && !isMultiple) {
          <span>Pick or drop a file</span>
        }
        @if (!onlyImages && isMultiple) {
          <span>Pick or drop some files</span>
        }
        @if (onlyImages && !isMultiple) {
          <span>Pick or drop an image</span>
        }
        @if (onlyImages && isMultiple) {
          <span>Pick or drop some images</span>
        }
      </gtx-file-picker>
    </div>
    <div class="row expanded">
      <ul class="small-6">
        @if (selectedFilesC) {
          <li>Selected files:</li>
        }
        @for (file of selectedFilesC; track file) {
          <li>{{ file?.name }} <small>{{ file?.type }}</small></li>
        }
      </ul>
      <ul class="small-6">
        @if (rejectedFilesC) {
          <li>Rejected files:</li>
        }
        @for (file of rejectedFilesC; track file) {
          <li>{{ file?.name }} <small>{{ file?.type }}</small></li>
        }
      </ul>
    </div>
    <gtx-checkbox [(ngModel)]="isDisabled" label="disabled: {{ isDisabled }}"></gtx-checkbox>
    <gtx-checkbox [(ngModel)]="isMultiple" label="multiple: {{ isMultiple }}"></gtx-checkbox>
    <gtx-checkbox [(ngModel)]="onlyImages" label="accept: {{ onlyImages ? 'image/*' : '*' }}"></gtx-checkbox>
  </div>
  <div class="demo-code">
        <gtx-highlighted-code language="HTML" code='
            <gtx-file-picker gtxFileDropArea
                (fileSelect)="onFilesSelected($event)"
                [disabled]="isDisabled"
                [multiple]="isMultiple"
                [accept]="onlyImages ? &#39;image/&#39;* : &#39;*&#39;">
                Pick a file
            </gtx-file-picker>
        '></gtx-highlighted-code>
  </div>
</gtx-demo-block>
