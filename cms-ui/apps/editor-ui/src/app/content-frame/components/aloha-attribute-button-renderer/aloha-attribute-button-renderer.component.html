@if (settings.tooltip) {
  <gtx-tooltip
    [position]="'top'"
    [align]="'center'"
    [type]="'light'"
    >
    <ng-container [ngTemplateOutlet]="buttonTemplate"></ng-container>
    <div gtx-tooltip-content class="button-tooltip">{{ settings.tooltip }}</div>
  </gtx-tooltip>
} @else {
  <div
    gtx-tooltip-trigger
    class="gtx-editor-toggle-split-button"
    [class.hidden]="!settings.visible"
    [class.input-active]="settings.inputActive"
    [class.active]="settings.active"
    >
    <button
      class="split-button-secondary"
      data-action="secondary"
      [disabled]="disabled"
      (click)="handleSecondaryClick()"
      >
      <icon class="button-icon secondary-icon">arrow_drop_down</icon>
    </button>
    <button
      class="split-button-main"
      data-action="primary"
      [class.icon-only]="settings.iconOnly"
      [disabled]="disabled"
      (click)="handleClick()"
      >
      @if (settings.icon) {
        <icon
          class="button-icon"
          [class.hollow]="settings.iconHollow"
          [class.icon-left]="!settings.iconOnly"
        >{{ settings.icon }}</icon>
      }
      @if (settings.text) {
        <span
          class="button-label"
          [innerHTML]="settings.text"
        ></span>
      }
    </button>
  </div>
}

<ng-template #buttonTemplate>
  <div
    gtx-tooltip-trigger
    class="gtx-editor-toggle-split-button"
    [class.hidden]="!settings.visible"
    [class.input-active]="settings.inputActive"
    [class.active]="settings.active"
    >
    <button
      class="split-button-secondary"
      data-action="secondary"
      [disabled]="disabled"
      (click)="handleSecondaryClick()"
      >
      <icon class="button-icon secondary-icon">arrow_drop_down</icon>
    </button>

    <button
      class="split-button-main"
      data-action="primary"
      [class.icon-only]="settings.iconOnly"
      [disabled]="disabled"
      (click)="handleClick()"
      >
      @if (settings.icon) {
        <icon
          class="button-icon"
          [class.hollow]="settings.iconHollow"
          [class.icon-left]="!settings.iconOnly"
        >{{ settings.icon }}</icon>
      }

      @if (settings.text) {
        <span
          class="button-label"
          [innerHTML]="settings.text"
        ></span>
      }
    </button>
  </div>
</ng-template>
