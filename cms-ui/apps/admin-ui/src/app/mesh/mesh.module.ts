import { SharedModule } from '@admin-ui/shared/shared.module';
import { CommonModule } from '@angular/common';
import { NgModule, Provider, Type } from '@angular/core';
import { FormsModule, ReactiveFormsModule } from '@angular/forms';
import { RouterModule } from '@angular/router';
import { MeshRestClientModule } from '@gentics/mesh-rest-client-angular';
import {
    CopyTokenModal,
    CopyValueComponent,
    LoginGateComponent,
    ManageTagFamiliesModal,
    ManagementComponent,
    ManagementTabsComponent,
    MeshGroupModal,
    MeshGroupPropertiesComponent,
    MeshGroupTableComponent,
    MeshRoleModal,
    MeshRolePermissionsModal,
    MeshRolePermissionsTrableComponent,
    MeshRolePropertiesComponent,
    MeshRoleTableComponent,
    MeshUserModal,
    MeshUserPropertiesComponent,
    MeshUserTableComponent,
    MicroschemaModal,
    MicroschemaPropertiesComponent,
    MicroschemaTableComponent,
    ProjectModal,
    ProjectPropertiesComponent,
    ProjectTableComponent,
    SchemaModal,
    SchemaPickerComponent,
    SchemaPropertiesComponent,
    SchemaTableComponent,
    SelectGroupModal,
    SelectMicroschemaModal,
    SelectProjectModal,
    SelectRoleModal,
    SelectSchemaModal,
    SelectTagFamilyModal,
    SelectTagModal,
    SelectUserModal,
    ServerOverviewComponent,
    TagFamilyModal,
    TagFamilyPropertiesComponent,
    TagFamilyTableComponent,
    TagModal,
    TagPropertiesComponent,
    TagTableComponent,
} from './components';
import {
    MeshGroupHandlerService,
    MeshGroupTableLoaderService,
    MeshRoleHandlerService,
    MeshRolePermissionsTrableLoaderService,
    MeshRoleTableLoaderService,
    MeshUserHandlerService,
    MeshUserTableLoaderService,
    MicroschemaHandlerService,
    MicroschemaTableLoaderService,
    ProjectHandlerService,
    ProjectTableLoaderService,
    SchemaHandlerService,
    SchemaTableLoaderService,
    TagFamilyHandlerService,
    TagFamilyTableLoaderService,
    TagHandlerService,
    TagTableLoaderService,
} from './providers';
import { MeshIconPipe } from './pipes';

const COMPONENTS: Type<any>[] = [
    CopyTokenModal,
    CopyValueComponent,
    LoginGateComponent,
    ManageTagFamiliesModal,
    ManagementComponent,
    ManagementTabsComponent,
    MeshGroupModal,
    MeshGroupPropertiesComponent,
    MeshGroupTableComponent,
    MeshRoleModal,
    MeshRolePermissionsModal,
    MeshRolePermissionsTrableComponent,
    MeshRoleTableComponent,
    MeshRolePropertiesComponent,
    MeshUserModal,
    MeshUserPropertiesComponent,
    MeshUserTableComponent,
    MicroschemaModal,
    MicroschemaPropertiesComponent,
    MicroschemaTableComponent,
    ProjectModal,
    ProjectPropertiesComponent,
    ProjectTableComponent,
    SchemaModal,
    SchemaPickerComponent,
    SchemaPropertiesComponent,
    SchemaTableComponent,
    SelectGroupModal,
    SelectMicroschemaModal,
    SelectProjectModal,
    SelectRoleModal,
    SelectSchemaModal,
    SelectTagFamilyModal,
    SelectTagModal,
    SelectUserModal,
    ServerOverviewComponent,
    TagFamilyModal,
    TagFamilyPropertiesComponent,
    TagFamilyTableComponent,
    TagModal,
    TagPropertiesComponent,
    TagTableComponent,
];

const PIPES: Type<any>[] = [
    MeshIconPipe,
];

const DECLARATIONS = [
    ...COMPONENTS,
    ...PIPES,
];

const SERVICES: Provider[] = [
    MeshGroupHandlerService,
    MeshGroupTableLoaderService,
    MeshRoleHandlerService,
    MeshRolePermissionsTrableLoaderService,
    MeshRoleTableLoaderService,
    MeshUserHandlerService,
    MeshUserTableLoaderService,
    MicroschemaHandlerService,
    MicroschemaTableLoaderService,
    ProjectHandlerService,
    ProjectTableLoaderService,
    SchemaHandlerService,
    SchemaTableLoaderService,
    TagFamilyHandlerService,
    TagFamilyTableLoaderService,
    TagHandlerService,
    TagTableLoaderService,
];

@NgModule({
    declarations: DECLARATIONS,
    providers: [
        ...SERVICES,
    ],
    exports: DECLARATIONS,
    imports: [
        CommonModule,
        FormsModule,
        ReactiveFormsModule,
        RouterModule.forChild([]),
        MeshRestClientModule,
        SharedModule,
    ],
})
export class MeshModule { }
