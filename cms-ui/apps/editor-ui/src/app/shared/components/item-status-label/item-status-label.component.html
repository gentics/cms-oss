@if (uiMode === UIMode.EDIT && item && (item.type === 'page' || item.type === 'form')) {
  <gtx-dropdown-list width="contents">
    <gtx-dropdown-trigger>
      <div
        class="status-label"
        [class.published]="published"
        [class.icon-only]="iconOnly"
        [class.modified]="modified"
        >
        @if (!deleted && published) {
          <icon class="main-icon success">cloud_upload</icon>
        }
        @if (!deleted && offline) {
          <icon class="main-icon alert">cloud_off</icon>
        }
        @if (deleted) {
          <icon class="main-icon alert">delete</icon>
        }
        @if (locked) {
          <div class="corner-icon icon-bottom-left">
            <icon class="secondary-icon">lock</icon>
          </div>
        }
        @if (modified) {
          <div class="corner-icon icon-bottom-right">
            <span class="icon-modified secondary-icon">*</span>
          </div>
        }
        @if (inherited || localized) {
          <div class="corner-icon icon-top-left">
            <icon class="secondary-icon">{{ inherited ? 'input' : 'file_copy' }}</icon>
          </div>
        }
        @if (planned && (plannedOnline || plannedOffline)) {
          <div class="corner-icon icon-top-right">
            <icon class="secondary-icon">schedule</icon>
          </div>
        }
        @switch (labelToDisplay) {
          @case (DisplayLabel.IN_QUEUE) {
            <div class="label-wrapper">
              <span class="label-element">{{ 'common.status_queue' | gtxI18n }}</span>
              <span class="icon-modified">*</span>
            </div>
          }
          @case (DisplayLabel.PLANNED_ONLINE) {
            <div class="label-wrapper">
              <span class="label-element">{{ 'common.status_publish_at' | gtxI18n }}</span>
              <span class="icon-modified">*</span>
            </div>
          }
          @case (DisplayLabel.PLANNED_OFFLINE) {
            <div class="label-wrapper">
              <span class="label-element">{{ 'common.status_offline_at' | gtxI18n }}</span>
              <span class="icon-modified">*</span>
            </div>
          }
          @case (DisplayLabel.MODIFIED) {
            <div class="label-wrapper">
              <span class="label-element">{{ 'common.status_edited' | gtxI18n }}</span>
              <span class="icon-modified">*</span>
            </div>
          }
          @case (DisplayLabel.PUBLISHED) {
            <div class="label-wrapper">
              <span class="label-element">{{ 'common.status_published' | gtxI18n }}</span>
              <span class="icon-modified">*</span>
            </div>
          }
          @case (DisplayLabel.OFFLINE) {
            <div class="label-wrapper">
              <span class="label-element">{{ 'common.status_offline' | gtxI18n }}</span>
              <span class="icon-modified">*</span>
            </div>
          }
          @case (DisplayLabel.DELETED) {
            <div class="label-wrapper">
              <span class="label-element">{{ 'common.status_deleted' | gtxI18n }}</span>
            </div>
          }
        }
        @if (locked) {
          <div class="label-wrapper">
            <icon class="info">lock</icon>
          </div>
        }
      </div>
    </gtx-dropdown-trigger>
    <gtx-dropdown-content>
      <item-state-contextmenu
        [nodeLanguages]="nodeLanguages"
        [item]="item"
        [activeNodeId]="activeNodeId"
        [uiMode]="uiMode"
      ></item-state-contextmenu>
    </gtx-dropdown-content>
  </gtx-dropdown-list>
}

<ng-template #stagingLabel let-included="included">
  <div class="status-label" [class.included]="included">
    <icon>{{ included ? 'check' : 'close' }}</icon>
    {{ (included ? 'common.staging_status_included' : 'common.staging_status_excluded') | gtxI18n }}
  </div>
</ng-template>

@if (uiMode === UIMode.STAGING && item) {
  <div>
    <ng-container
      [ngTemplateOutlet]="stagingLabel"
      [ngTemplateOutletContext]="{ included: stagingMap?.[item.globalId]?.included }"
    ></ng-container>
  </div>
}
