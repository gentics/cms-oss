<div class="form-container active" [ngSwitch]="item.type">
    <ng-container *ngSwitchCase="'folder'">
        <gtx-folder-properties
            [itemId]="item.id"
            [nodeId]="nodeId"
            [folderId]="item.motherId"
            [languages]="languages"

            [initialValue]="itemClean"
            [formControl]="control"
            (valueChange)="simplePropertiesChanged($event)"
            (initialValueChange)="forwardItemCleanChange($event)"
        ></gtx-folder-properties>
    </ng-container>

    <ng-container *ngSwitchCase="'form'">
        <form-properties-form
            [form]="item"
            [nodeId]="nodeId"
            [folderId]="item.motherId"
            [languages]="languages"
            [disableLanguageSelect]="true"
            [properties]="properties"
            [disabled]="!(editPermission$ | async)"
            [showDetailProperties]="true"
            (changes)="simplePropertiesChanged($event)"
        ></form-properties-form>
    </ng-container>

    <ng-container *ngSwitchCase="'page'">
        <page-properties-form
            [page]="item"
            [enableFileNameSuggestion]="false"
            [folderId]="item.folderId"
            [nodeId]="nodeId"
            [properties]="properties"
            [templates]="templates"
            [languages]="languages"
            [disableLanguageSelect]="true"
            [disabled]="!(editPermission$ | async)"
            (changes)="simplePropertiesChanged($event)"
        ></page-properties-form>
    </ng-container>

    <ng-container *ngSwitchCase="'file'">
        <ng-container [ngTemplateOutlet]="fileProperties"></ng-container>
    </ng-container>

    <ng-container *ngSwitchCase="'image'">
        <ng-container [ngTemplateOutlet]="fileProperties"></ng-container>
    </ng-container>

    <ng-container *ngSwitchCase="'node'">
        <ng-container [ngTemplateOutlet]="nodeProperties"></ng-container>
    </ng-container>

    <ng-container *ngSwitchCase="'channel'">
        <ng-container [ngTemplateOutlet]="nodeProperties"></ng-container>
    </ng-container>
</div>

<ng-template #fileProperties>
    <gtx-file-properties
        [initialValue]="itemClean"
        [formControl]="control"
        (valueChange)="simplePropertiesChanged($event)"
        (initialValueChange)="forwardItemCleanChange($event)"
    ></gtx-file-properties>
</ng-template>

<ng-template #nodeProperties>
    <gtx-node-properties
        [item]="item"
        [initialValue]="itemClean"
        [formControl]="control"
        [mode]="NodePropertiesMode.EDIT"
        (valueChange)="simplePropertiesChanged($event)"
        (initialValueChange)="forwardItemCleanChange($event)"
    ></gtx-node-properties>
</ng-template>
