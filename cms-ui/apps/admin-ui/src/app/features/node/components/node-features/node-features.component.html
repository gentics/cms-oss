@if (form) {
  <div class="features-content columns gtx-form" [formGroup]="form">
    @for (feature of availableFeatures; track feature) {
      <div class="feature-container">
        <gtx-tooltip
          [type]="'light'"
          [position]="'right'"
          [align]="'top'"
          >
          <div class="gtx-form-section-title">
            {{ feature.name }}
            <icon
              gtx-tooltip-trigger
              class="feature-info no-select"
            >info</icon>
          </div>
          <div
            gtx-tooltip-content
            class="feature-description"
            >
            <div class="gtx-form-section-title">{{ 'node.description' | gtxI18n }}</div>
            <p>{{ feature.description }}</p>
            @switch (feature.id) {
              @case (NodeFeature.CONTENT_AUTO_OFFLINE) {
                <div>
                  <a target="_blank" href="https://www.gentics.com/Content.Node/guides/feature_file_publish_dependencies.html">
                    {{ 'node.online_documentation' | gtxI18n }} <icon>open_in_new</icon>
                  </a>
                </div>
              }
              @default {
                <div>
                  <a target="_blank" [href]="'https://www.gentics.com/Content.Node/guides/feature_' + feature.id + '.html'">
                    {{ 'node.online_documentation' | gtxI18n }} <icon>open_in_new</icon>
                  </a>
                </div>
              }
            }
          </div>
        </gtx-tooltip>
        <gtx-checkbox
          [formControlName]="feature.id"
          [label]="'node.feature_active' | gtxI18n"
        ></gtx-checkbox>
      </div>
    }
  </div>
}
