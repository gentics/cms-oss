<form [formGroup]="form">

    <gtx-input
        class="gtx-input-with-validation"
        [label]="('editor.item_name_label' | i18n) + '*'"
        formControlName="name"
        [gtxDisabled]="disabled"
        required
        [autofocus]="isModeCreate()"
    ></gtx-input>
    <div class="gtx-input-validation-msgs">
        <p
            [hidden]="!hasError('name', 'folderNameIsDuplicate')"
            class="invalid"
        >
            {{ 'editor.input_invalid_name_already_exists' | i18n }}
        </p>
    </div>

    <gtx-input
        class="gtx-input-with-validation"
        [label]="('editor.item_directory_label' | i18n) + '*'"
        formControlName="directory"
        [gtxDisabled]="disabled"
        required
    ></gtx-input>
    <div class="gtx-input-validation-msgs">
        <p [hidden]="!hasError('directory', 'pattern')">
            {{ 'editor.input_invalid_pattern' | i18n:{ charsAllowed: getCharsAllowedDirectoryReadable( (featurePubDirSegmentIsActive$ | async) ) } }}
        </p>
        <p [hidden]="!hasError('directory', 'folderDirectoryIsDuplicate')">
            {{ 'editor.input_invalid_directory_already_exists' | i18n }}
        </p>
    </div>

    <gtx-input
        [label]="'editor.item_description_label' | i18n"
        formControlName="description"
        [gtxDisabled]="disabled"
    ></gtx-input>

    <div *ngIf="isMultiLang() && !isModeCreate()">
        <hr>

        <gtx-i18n-panel-group
            *ngIf="languages"
            [label]="'editor.i18n_properties_label' | i18n"
            [languages]="languages"
            [(activeLanguage)]="activeTabI18nLanguage"
        >
            <gtx-i18n-input
                [label]="('editor.item_name_label' | i18n)"
                formControlName="nameI18n"
                [gtxDisabled]="disabled"
                [language]="activeTabI18nLanguage?.code"
                [availableLanguages]="languages"
            ></gtx-i18n-input>

            <gtx-i18n-input
                [label]="('editor.item_directory_label' | i18n)"
                formControlName="publishDirI18n"
                [gtxDisabled]="disabled"
                [language]="activeTabI18nLanguage?.code"
                [availableLanguages]="languages"
            ></gtx-i18n-input>

            <gtx-i18n-input
                [label]="'editor.item_description_label' | i18n"
                formControlName="descriptionI18n"
                [gtxDisabled]="disabled"
                [language]="activeTabI18nLanguage?.code"
                [availableLanguages]="languages"
            ></gtx-i18n-input>
        </gtx-i18n-panel-group>
    </div>

    <button
        type="submit"
        tabindex="-1"
        class="hidden-submit-button"
        *ngIf="isModeCreate()"
    ></button>
</form>
