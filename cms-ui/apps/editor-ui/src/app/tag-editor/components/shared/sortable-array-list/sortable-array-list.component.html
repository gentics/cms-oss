<gtx-sortable-list (dragEnd)="onDragEnd($event)">

  <!-- This hidden drag handle is necessary because gtx-sortable-list only
  enables drag handles if at least one is present during onContentInit(). -->
  @if (showWorkaroundHandle) {
    <gtx-drag-handle class="workaround-handle"></gtx-drag-handle>
  }

  @for (item of items; track item; let i = $index) {
    <gtx-sortable-item>
      <gtx-contents-list-item>
        <div class="item-primary">
          <ng-container *ngTemplateOutlet="itemTemplate;context:{item: item, index: i}"></ng-container>
        </div>
        <div class="show-on-hover">
          @if (allowRemoval) {
            <gtx-button
              icon size="small"
              type="secondary"
              (click)="onRemoveClick(i)"
              [title]="'tag_editor.remove_element' | gtxI18n">
              <icon>remove_circle_outline</icon>
            </gtx-button>
          }
        </div>
        @if (allowDrag) {
          <gtx-drag-handle></gtx-drag-handle>
        }
      </gtx-contents-list-item>
    </gtx-sortable-item>
  }
</gtx-sortable-list>
