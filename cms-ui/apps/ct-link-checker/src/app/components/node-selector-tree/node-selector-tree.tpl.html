@for (branch of branches; track branch.node.id) {
  <gtx-dropdown-item [ngClass]="'depth-' + depth"
    (click)="nodeSelected.emit(branch.node)">
    <a (click)="nodeSelected.emit(branch.node)">
      @if (0 < depth) {
        <div class="inherited-icon">
          <i class="material-icons">input</i>
        </div>
      }
      {{ branch.node.name }}
      @if ((getStats(branch.node.id)?.invalid); as invalidCount) {
        <span class="badge">{{ invalidCount }}</span>
      }
    </a>
  </gtx-dropdown-item>
  <gtxct-node-selector-tree [branches]="branch.children"
    [stats]="stats"
    [depth]="depth + 1"
    [useLinks]="useLinks"
  (nodeSelected)="nodeSelected.emit($event)"></gtxct-node-selector-tree>
}
